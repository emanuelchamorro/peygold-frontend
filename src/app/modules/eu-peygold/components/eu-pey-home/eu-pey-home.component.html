<ngx-spinner>
  <p style="font-size: 20px; color: white">Procesando...</p>
</ngx-spinner>
<div>
  <div class="heading d-flex align-items-center">
    <span class="icon-Iconos-01 fs-22"></span>
    <h2>Inicio</h2>
  </div>
  <p class="opening-text">El resumen de tu billetera siempre disponible para que puedas tener control fácil y rápido de
    tu dinero.</p>
  <div class="wallets">
    <div class="wallet-conteiner mb-2">

      <!-- Wallets -->

      <div class="col-xs-12 col-sm-4">
        <div class="wallet-item" id="pesos-wallet">
          <div class="wallet-first-line">
            <span class="fw-600">Saldo disponible</span>
            <span class="fw-700 mb-3" [innerHtml]="fiatBalance.amount | currency:fiatBalance.currencyType"></span>
            <span class="fs-14">Envios pendientes</span>
            <span class="fs-14" [innerHtml]="fiatBalance.pendingAmount | currency:fiatBalance.currencyType"></span>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-4">
        <div class="wallet-item" id="pg-wallet">
          <div class="wallet-first-line">
            <span class="fw-600">Saldo disponible</span>
            <span class="fw-700 mb-3"
              [innerHtml]="pontsBalance.amount | currency:pontsBalance.currencyType + ' '"></span>
            <span class="fs-14">Envios pendientes</span>
            <span class="fs-14"
              [innerHtml]="pontsBalance.pendingAmount | currency:pontsBalance.currencyType + ' '"></span>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-4">
        <div class="wallet-item" id="credito-wallet">
          <div class="wallet-first-line">
            <span class="fw-600">Saldo disponible</span>
            <span class="fw-700 mb-3"
              [innerHtml]="creditBalance.amount | currency:creditBalance.currencyType + ' '"></span>
            <span class="fs-14">Peygold créditos</span>
            <span class="fs-14"
              [innerHtml]="creditBalance.pendingAmount | currency:creditBalance.currencyType + ' '"></span>
          </div>
        </div>
      </div>

      <!-- Fin de Wallets -->
    </div>
  </div>
  <h2><span class="icon-Iconos-02 fs-22"></span>Actividad</h2>
  <!--  <div class="movimientos-container grey-box w-100">
    <div *ngFor="let transaction of transactions;"
      class="d-flex p-3 b-bottom-grey b-bottom-line align-items-center justify-content-between">

      <span>
        {{transaction.originRechargeName}} {{transaction.idOriginRecharge===3?'':'a'}}
        {{transaction.idOriginRecharge===3?'':transaction.amount >= 0 ? transaction.sender.fullName: transaction.receiver.fullName}}

      </span>
      <div class="d-flex flex-column align-items-end">
        <span class="fs-16">{{transaction.symbol}} {{transaction.amount | currency:' ':'symbol':'1.0'}}</span>
        <span class="fs-11" [innerHtml]="transaction.createdAt | date: medium"></span>
      </div>
    </div>
    <div *ngIf="(!transactions || transactions.length == 0) && !isBusy">

      <div class="grey-box d-flex flex-column w-100">
        <div class="sin-movimientos d-flex justify-content-center align-items-center flex-column p-5">
          <img class="d-flex mb-3" src="/assets/images/new-icons/movimientos.svg" height="100" width="100">
          <span>No hay actividad</span>
          <span>Utiliza Peygold y comienza a ver movimientos en tu cuenta</span>
        </div>
      </div>
    </div>
  </div> -->

  <div class="content-center">

    <div class="filtros w-100">
      <div class="d-flex justify-content-between">
        <div class="left">
          <button (click)="setFiltersDefault()" class="btn btn-sm filtrarOrdenar">
            Filtrar/Ordenar
          </button>
        </div>
        <div class="right">
          <form>
            <input id="inputFilter" type="text" class="input-buscar" name="filter" (keyup)="search($event)"
              [(ngModel)]="filter" placeholder="Buscar" />
          </form>
        </div>
      </div>
    </div>
    <div class="content-center">
      <div class="grey-box d-flex flex-column w-100">
        <div class="DownFilters">
          <form class="form-inline">
            <div class="input-group">
              <div class="boxSelect">
                <a class="btn-dropDown stateDrop"><span>Todas las operaciones</span><i
                    class="fa fa-chevron-right"></i></a>
                <div class="downFecha stateDown">
                  <ul>
                    <li id="allOriginRecharge" (click)="setFilterOriginRecharge('-1')" class="optionDate">Todas las
                      operaciones</li>
                    <li *ngFor="let originRecharge of originTransactionTypes" id="originRecharge.label"
                      (click)="setFilterOriginRecharge(originRecharge.value)" class="optionDate"
                      [innerHtml]="originRecharge.label"></li>

                  </ul>
                </div>
              </div>
            </div>
            <div class="input-group">
              <div>
                <div class="boxSelect">
                  <a class="btn-dropDown stateDrop"><span>Todos los estados</span><i
                      class="fa fa-chevron-right"></i></a>
                  <div class="downFecha stateDown">
                    <ul>
                      <li id="allTransactionState" (click)="setFilterTransactionState('-1')" class="optionDate">Todos los
                        estados</li>
                      <li *ngFor="let status of transactionStatus" (click)="setFilterTransactionState(status.value)"
                        id="status.label" class="optionDate" [innerHtml]="status.label">
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="input-group">
              <div>
                <div class="boxSelect">
                  <a class="btn-dropDown stateDrop"><span>Todas las monedas</span><i
                      class="fa fa-chevron-right"></i></a>
                  <div class="downFecha stateDown">
                    <ul>
                      <li id="allTransactionType" (click)="setFilterTransactionType('-1')" class="optionDate">Todas las
                        monedas</li>
                      <li *ngFor="let transactionType of transactionTypes" id="transactionType.label"
                        (click)="setFilterTransactionType(transactionType.value)" class="optionDate"
                        [innerHtml]="transactionType.label">
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="input-group">
              <div>
                <div class="boxSelect">
                  <a class="btn-dropDown stateDrop"><span>Hoy</span><i class="fa fa-chevron-right"></i></a>
                  <div class="downFecha stateDown">
                    <ul>
                        <li (click)="setFilterRange(0)" >Hoy</li>
                        <li (click)="setFilterRange(1)" >Ayer</li>
                        <li (click)="setFilterRange(2)">Mes Pasado</li>
                        <div class="dropdown-divider"></div>
                        <form class="formFiltrarDown pl-3 pr-3" name="form" #rangeForm="ngForm" (ngSubmit)="rangeForm.form.valid?onSubmit():resetForm(rangeForm)" novalidate>
                            <input id="sDInput" type="text" mask="00/00/0000" [dropSpecialCharacters]="false" name="sDate" [(ngModel)]="sDateInput" #sDate="ngModel" placeholder="Desde 05/08/2019" required/>
                            <div *ngIf="!sDate.pristine && sDate.invalid || rangeForm.submitted && sDate.errors"
                            class="invalid-feedback">
                            <div *ngIf="sDate.errors.required">Campo es requerido</div>
                        </div>
                            <input id="eDInput" type="text" mask="00/00/0000" [dropSpecialCharacters]="false" name="eDate" [(ngModel)]="eDateInput" #eDate="ngModel" placeholder="Hasta 05/08/2019" required/>
                            <div *ngIf="!eDate.pristine && eDate.invalid || rangeForm.submitted && eDate.errors"
                            class="invalid-feedback">
                            <div *ngIf="eDate.errors.required">Campo es requerido</div>
                        </div>
                        <div class="dropdown-divider"></div>
                            <button id="btnSetRange" type="submit" class="btn-blue">Aceptar</button>
                        </form>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>


        <table *ngIf="transactions && transactions.length>0" class="table actividad">

          <tbody class="list">

            <tr *ngFor="let transaction of transactions;" class="d-flex justify-content-between align-items-center">
              <td class="col-4 d-flex align-items-center">
                <img *ngIf="transaction.iconImg" class="circle" [src]="transaction.iconImg">
                <i *ngIf="!transaction.iconImg" class="circle">{{transaction.sender.initials}}</i>  
                  {{transaction.description}}
              </td>
              <td class="col-4"><span class="text-secondary status">{{transaction.status.label}}</span></td>
              <td class="col-4 d-flex flex-row justify-content-end align-items-center">
                <div class="d-flex flex-column mr-3">
                  <span class="fs-16 text-secondary text-right">{{transaction.sign}} {{transaction.symbol}} {{transaction.amount | currency:' ':'symbol':'1.0'}}</span>
                  <span class="fs-11 text-secondary" [innerHtml]="transaction.createdAt | date: medium"></span>
                </div>
                <div class="detallePopup">
                  <a role="button" class="detailBtn slide-toggle"><i class="optionPoint"></i></a>
                  <div class="details slide-toggle-content">
                    <ul>
                      <li><button type="button" id="viewModal1"> Ver detalle</button>
                      <li><button type="button" id="viewModal2">Pagar</button></li>
                      <li><button type="button" id="viewModal3">Rechazar</button></li>
                    </ul>
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      
        <div *ngIf="(!transactions || transactions.length==0)  && !isBusy" class="sin-movimientos d-flex justify-content-center align-items-center flex-column p-5">
          <img class="d-flex mb-3" src="/assets/images/new-icons/movimientos.svg" height="100" width="100">
          <span *ngIf="!showPagination">No hay registros para mostrar.</span>
          <span *ngIf="showPagination">No hay actividad</span>
          <span>Utiliza Peygold y comienza a ver movimientos en tu cuenta</span>
        </div>
      </div>
      <ngb-pagination *ngIf="showPagination" [collectionSize]="totalItems" [(page)]="page"
        (pageChange)="loadPage($event)">
      </ngb-pagination>
    </div>
  </div>

</div>